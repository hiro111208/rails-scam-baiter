<div class="container">

  <!-- The link to overview page is temporary. It should be in a navbar -->
  <%= link_to("<< Back to Overview", root_path, :class => 'back-link') %>
  <br>
  <h3>Transaction Index</h3>
  <br>
  <%= link_to("Show", 'transactions/show', :class => 'back-link') %>
  <%= button_to "Generate Random Data", {controller: 'transactions', action: 'create'}, {method: :post } %>

  <h4>Balance:
    <%= "#{Account.find(@current_account.id).balance} #{Account.find(@current_account.id).currency}" %></h4>
  <br>
  <label class="label" for="name">Number of Transactions:
    <%= @transactions.size %>
  </label>

  <table class="table" summary="transaction-list">
    <thead class="thead-dark">
      <tr class="header">
        <th>Date</th>
        <th>Payee</th>
        <th>Amount</th>
        <th>Transaction Type</th>
        <th>Account ID</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <% @transactions.each do |transaction| %>
        <tr>
          <td class="center"><%= transaction.date %></td>
          <td class="center"><%= transaction.payee %></td>
          <td class="center"><%= "#{transaction.amount} #{Account.find(transaction.account_id).currency}" %></td>
          <td class="center"><%= transaction.transaction_type %></td>
          <td class="center"><%= transaction.account_id %></td>
          <td class="actions">
            <%= link_to("Edit", edit_transaction_path(transaction), :class => 'action edit') %>
            <%= link_to("Delete", delete_transaction_path(transaction), :class => 'action delete') %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
